<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Copyright (c) 2012, Politecnico di Milano. All rights reserved.
Andrea Zoppi <texzk@email.it>
Martino Migliavacca <martino.migliavacca@gmail.com>
http://airlab.elet.polimi.it/
http://www.openrobots.com/
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Î¼ROSnode</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png" width="125" height="50"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname"><span id="projectnumber">0.1.0</span></div>
   <div id="projectbrief">alpha</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('uros_conn_8c_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">urosConn.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="uros_conn_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">Copyright (c) 2012, Politecnico di Milano. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">Andrea Zoppi &lt;texzk@email.it&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">Martino Migliavacca &lt;martino.migliavacca@gmail.com&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">http://airlab.elet.polimi.it/</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">http://www.openrobots.com/</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">2. Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * @file    urosConn.c</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * @author  Andrea Zoppi &lt;texzk@email.it&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * @brief   Connectivity features of the middleware.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* HEADER FILES                                                              */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;../include/urosBase.h&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;../include/urosUser.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;../include/urosConn.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;../include/lld/uros_lld_conn.h&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/* LOCAL TYPES &amp; MACROS                                                      */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#if UROS_CONN_C_USE_ASSERT == UROS_FALSE &amp;&amp; !defined(__DOXYGEN__)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef urosAssert</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define urosAssert(expr)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/* GLOBAL FUNCTIONS                                                          */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/** @addtogroup conn_funcs */</span><span class="comment"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/** @{ */</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> * @brief   Resolves an hostname to an IP address.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> * @details Executes a DNS call to resolve the hostname string to an IP address</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> *          which can be used by the connectivity library.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * @param[in] hostnamep</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> *          Pointer to a hostname string.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * @param[out] ipp</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> *          Pointer to an allocated @p UrosIp object.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gac33a0b5f9084d080ffef74416d41abce">   75</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gac33a0b5f9084d080ffef74416d41abce" title="Resolves an hostname to an IP address.">urosHostnameToIp</a>(<span class="keyword">const</span> <a class="code" href="struct_uros_string.html" title="String object.">UrosString</a> *hostnamep, <a class="code" href="union_uros_ip.html" title="Little-endian IP addres record.">UrosIp</a> *ipp) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga065c554990656849a13acfd12988ad17" title="Resolves an hostname to an IP address.">uros_lld_hostnametoip</a>(hostnamep, ipp);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * @brief   Resolves an URI to a connection address.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> * @details The provided URI is converted into a connection address. The URI</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> *          has the following structure:</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"> *          &lt;pre&gt;&lt;i&gt;protocol&lt;/i&gt;://&lt;i&gt;hostname&lt;/i&gt;:&lt;i&gt;port&lt;/i&gt;[/...]&lt;/pre&gt;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> *          where:</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> *          - the &lt;i&gt;protocol&lt;/i&gt; is ignored and supposed to be &lt;tt&gt;http&lt;/tt&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"> *            (ROS XMLRPC over HTTP)</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"> *          - the &lt;i&gt;hostname&lt;/i&gt; can also be an IPv4 address</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"> *          - the remainder after the &lt;i&gt;port&lt;/i&gt; is simply ignored.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"> * @param[in] urip</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"> *          Pointer to the URI string.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"> * @param[out] addrp</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> *          Pointer to an annlocated @p UrosAddr descriptor.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga2620f709a43b802a0037220fc85ff5f1">  100</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga2620f709a43b802a0037220fc85ff5f1" title="Resolves an URI to a connection address.">urosUriToAddr</a>(<span class="keyword">const</span> <a class="code" href="struct_uros_string.html" title="String object.">UrosString</a> *urip, <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *addrp) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *start, *end, *ptr;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">size_t</span> rem;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  uint32_t field;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="struct_uros_string.html" title="String object.">UrosString</a> hostname;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> err;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(<a class="code" href="group__base__funcs.html#ga683b6cffc3b9aa9d349d61e12a87a7bb" title="Checks if a string is not empty.">urosStringNotEmpty</a>(urip));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(addrp != NULL);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">/* Skip the &quot;{protocol}://&quot; prefix.*/</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  rem = urip-&gt;<a class="code" href="struct_uros_string.html#ab401588ed4bd01f81686bc7ce5edde91" title="String length.">length</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">for</span> (ptr = urip-&gt;<a class="code" href="struct_uros_string.html#af400c70d8d855a509e3c8bf7312f65de" title="String data.">datap</a>; ptr[0] != <span class="charliteral">&#39;:&#39;</span> &amp;&amp; rem &gt; 0; --rem, ++ptr) {}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(rem &lt;= 3, <span class="keywordflow">return</span> <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6cad7ed191d7a5838fac252e1815bf4db42" title="Parsing error.">UROS_ERR_PARSE</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            (<span class="stringliteral">&quot;URI [%.*s] does not start with [{protocol}://]\n&quot;</span>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;             <a class="code" href="group__base__macros.html#ga0944421111e89ed6889954cb67c58bcd" title="Makes the formatted parameters for an UrosString object.">UROS_STRARG</a>(urip)));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(ptr[1] != <span class="charliteral">&#39;/&#39;</span> || ptr[2] != <span class="charliteral">&#39;/&#39;</span>, <span class="keywordflow">return</span> UROS_ERR_PARSE,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            (<span class="stringliteral">&quot;URI [%.*s] does not start with [{protocol}://]\n&quot;</span>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;             <a class="code" href="group__base__macros.html#ga0944421111e89ed6889954cb67c58bcd" title="Makes the formatted parameters for an UrosString object.">UROS_STRARG</a>(urip)));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  ptr += 3; rem -= 3;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">/* Get the hostname/IP.*/</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  start = ptr;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">for</span> (ptr = start; ptr[0] != <span class="charliteral">&#39;:&#39;</span> &amp;&amp; rem &gt; 0; --rem, ++ptr) {}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  end = ptr++; --rem;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(rem &lt;= 1, <span class="keywordflow">return</span> UROS_ERR_PARSE,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            (<span class="stringliteral">&quot;Cannot find &#39;:&#39; separator for {IP}:{PORT} in URI [%.*s]\n&quot;</span>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;             <a class="code" href="group__base__macros.html#ga0944421111e89ed6889954cb67c58bcd" title="Makes the formatted parameters for an UrosString object.">UROS_STRARG</a>(urip)));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  hostname.<a class="code" href="struct_uros_string.html#ab401588ed4bd01f81686bc7ce5edde91" title="String length.">length</a> = (size_t)end - (<span class="keywordtype">size_t</span>)start;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  hostname.<a class="code" href="struct_uros_string.html#af400c70d8d855a509e3c8bf7312f65de" title="String data.">datap</a> = (<span class="keywordtype">char</span>*)start;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  err = <a class="code" href="group__conn__funcs.html#gac33a0b5f9084d080ffef74416d41abce" title="Resolves an hostname to an IP address.">urosHostnameToIp</a>(&amp;hostname, &amp;addrp-&gt;<a class="code" href="struct_uros_addr.html#a14bb7d41100bb1cd35d4a79ea9f44d56" title="Network address (IP).">ip</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(err != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>, <span class="keywordflow">return</span> err,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            (<span class="stringliteral">&quot;Error %s while resolving hostname [%.*s]\n&quot;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;             <a class="code" href="group__base__funcs.html#gaffc66585c4773691fb36881ecf8bab2a" title="Text of an error code.">urosErrorText</a>(err), <a class="code" href="group__base__macros.html#ga0944421111e89ed6889954cb67c58bcd" title="Makes the formatted parameters for an UrosString object.">UROS_STRARG</a>(&amp;hostname)));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">/* Decode the port number.*/</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (rem &gt; 6) { rem = 6; }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">for</span> (field = 0; rem &gt; 0 &amp;&amp; *ptr &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *ptr &lt;= <span class="charliteral">&#39;9&#39;</span>; ++ptr, --rem) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    field = field * 10 + *ptr - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(field &gt; 65535, <span class="keywordflow">return</span> UROS_ERR_PARSE,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            (<span class="stringliteral">&quot;Port number %d &gt; 65535\n&quot;</span>, field));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  addrp-&gt;<a class="code" href="struct_uros_addr.html#a3dc073d966e7e4cb97e7d70d2a5a0240" title="Transport layer port.">port</a> = (uint16_t)field;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">/* Check for a final &#39;/&#39;, and ignore the rest.*/</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(rem &gt; 0 &amp;&amp; *ptr != <span class="charliteral">&#39;/&#39;</span>, <span class="keywordflow">return</span> UROS_ERR_PARSE,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            (<span class="stringliteral">&quot;Missing &#39;/&#39; after {PORT} in URI [%.*s]\n&quot;</span>, <a class="code" href="group__base__macros.html#ga0944421111e89ed6889954cb67c58bcd" title="Makes the formatted parameters for an UrosString object.">UROS_STRARG</a>(urip)));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"> * @brief   Initializes a connection object.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"> * @details Invalidates the connection fields and initializes the</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"> *          low-level ones.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> * @see     uros_lld_conn_objectinit()</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"> *          Pointer to an allocated @p UrosConn object.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga5e01ef471ab9fb2d299085c98f8a53e5">  160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__conn__funcs.html#ga5e01ef471ab9fb2d299085c98f8a53e5" title="Initializes a connection object.">urosConnObjectInit</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(cp != NULL);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  cp-&gt;<a class="code" href="struct_uros_conn.html#a455d2eba73d2bfe05bc4c584a7777bc4" title="Local address.">locaddr</a>.<a class="code" href="struct_uros_addr.html#a14bb7d41100bb1cd35d4a79ea9f44d56" title="Network address (IP).">ip</a>.<a class="code" href="union_uros_ip.html#aa800316c57525c3f7ab7e63806268378" title="Packed dword.">dword</a> = <a class="code" href="group__conn__macros.html#ga24a26fea1ce8b4a5e09286811acc92c5" title="Binds to any IP addresses.">UROS_ANY_IP</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  cp-&gt;<a class="code" href="struct_uros_conn.html#a455d2eba73d2bfe05bc4c584a7777bc4" title="Local address.">locaddr</a>.<a class="code" href="struct_uros_addr.html#a3dc073d966e7e4cb97e7d70d2a5a0240" title="Transport layer port.">port</a> = <a class="code" href="group__conn__macros.html#ga3ad5be694607c12b421631372588d54b" title="Binds to any ports.">UROS_ANY_PORT</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  cp-&gt;<a class="code" href="struct_uros_conn.html#a899a129b5cf21da562717b3094850fbb" title="Remote address.">remaddr</a>.<a class="code" href="struct_uros_addr.html#a14bb7d41100bb1cd35d4a79ea9f44d56" title="Network address (IP).">ip</a>.<a class="code" href="union_uros_ip.html#aa800316c57525c3f7ab7e63806268378" title="Packed dword.">dword</a> = <a class="code" href="group__conn__macros.html#ga24a26fea1ce8b4a5e09286811acc92c5" title="Binds to any IP addresses.">UROS_ANY_IP</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  cp-&gt;<a class="code" href="struct_uros_conn.html#a899a129b5cf21da562717b3094850fbb" title="Remote address.">remaddr</a>.<a class="code" href="struct_uros_addr.html#a3dc073d966e7e4cb97e7d70d2a5a0240" title="Transport layer port.">port</a> = <a class="code" href="group__conn__macros.html#ga3ad5be694607c12b421631372588d54b" title="Binds to any ports.">UROS_ANY_PORT</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  cp-&gt;<a class="code" href="struct_uros_conn.html#a4c708a7d7a3284dde84d4f96a6b8fc45" title="Connection protocol.">protocol</a> = <a class="code" href="group__conn__types.html#ggaaab21b48f9c58022ce7de007837df406a1c4d98f60d6b8cebc918c4aec39bd902" title="Enumeration length.">UROS_PROTO__LENGTH</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="group__conn__lld__funcs.html#gab9c53db2634d0c6d21b8ec2df2957b98" title="Initializes a connection object.">uros_lld_conn_objectinit</a>(cp);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> * @brief   Checks if pointing to a valid connection object.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * @details @p cp points to a valid connection if it is not @p NULL and its</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> *          low-level fields are in a valid state.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"> * @see     uros_lld_conn_isvalid()</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"> *          Pointer to a presumed valid @p UrosConn object.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> *          @p true if @p cp addresses a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gaee11d892e258d71b827dc8d691ab8ac7">  185</a></span>&#160;<a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> <a class="code" href="group__conn__funcs.html#gaee11d892e258d71b827dc8d691ab8ac7" title="Checks if pointing to a valid connection object.">urosConnIsValid</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga1ad3ede6bbb4025fe6da8b7e811852d6" title="Checks if pointing to a valid connection object.">uros_lld_conn_isvalid</a>(cp);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * @brief   Creates a new connection.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> * @details The connection object is initialized for a new connection.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * @see     uros_lld_conn_create()</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p create().</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> * @pre     The connection object is initialized but no connection has been</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> *          created with it.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosConn object.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"> * @param[in] protocol</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> *          Connection protocol.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gaf925c33a56c993810dabaac72eda9527">  206</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gaf925c33a56c993810dabaac72eda9527" title="Creates a new connection.">urosConnCreate</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <a class="code" href="group__conn__types.html#gaaab21b48f9c58022ce7de007837df406" title="Connection transport protocol identifier.">uros_connproto_t</a> protocol) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gacb82f09c67b35dacc1b27115d1d94075" title="Creates a new connection.">uros_lld_conn_create</a>(cp, protocol);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> * @brief   Binds to a local address.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> * @details The local side of a connection object is bound to the provided</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> *          address.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"> * @see     uros_lld_conn_bind()</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p bind().</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * @pre     The connection object is only created.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosConn object.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> * @param[in] locaddrp</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> *          Pointer to the local address descriptor to be bound.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga30377a386e675aeda42dfb579048be10">  227</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga30377a386e675aeda42dfb579048be10" title="Binds to a local address.">urosConnBind</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <span class="keyword">const</span> <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *locaddrp) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga35124c731040a9388283f8d3773164b2" title="Binds to a local address.">uros_lld_conn_bind</a>(cp, locaddrp);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * @brief   Accepts an incoming connection.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> * @details A listener connection waits until a remote connection is</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> *          instantiated. A new dedicated connection channel is spawned</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> *          and returned, and the spawning connection is put back into</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> *          listening state.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> * @see     uros_lld_conn_accept()</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p accept().</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"> * @pre     The @p cp connection object is listening.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> *          Pointer to the listener connection object.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> * @param[out] spawnedp</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> *          Pointer to an allocated @p UrosConn object with which the new</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> *          dedicated communication channel is created.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gab9e1753658f7bcbd7c28914b08ade339">  251</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gab9e1753658f7bcbd7c28914b08ade339" title="Accepts an incoming connection.">urosConnAccept</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *spawnedp) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga541544b64e4f9fe49ce9a1079f3421db" title="Accepts an incoming connection.">uros_lld_conn_accept</a>(cp, spawnedp);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> * @brief   Initializes the listening mode.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * @details The connection object is initialized for listening.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * @see     uros_lld_conn_listen()</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p listen().</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * @pre     The connection object is only created.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosConn object.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> * @param[in] backlog</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> *          Maximum number of incoming connection simultaneously waiting to be</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> *          accepdted with @p urosConnAccept().</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga6f2a857ee263efc01e1599d2ebbb0f8f">  272</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga6f2a857ee263efc01e1599d2ebbb0f8f" title="Initializes the listening mode.">urosConnListen</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <a class="code" href="group__base__types.html#gae23a3c699ffa61c5f51e39476342f720" title="Unsigned counter data type.">uros_cnt_t</a> backlog) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gac84e03f47c34143cb409194e802e3211" title="Initializes the listening mode.">uros_lld_conn_listen</a>(cp, backlog);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> * @brief   Connects to a remote address.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"> * @see     uros_lld_conn_connect()</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p connect().</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> * @pre     The connection object is only created.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosConn object.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> * @param[in] remaddrp</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> *          Pointer to the remote address descriptor to connect to.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gac657d0e4492f7832b711d72535e30599">  291</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gac657d0e4492f7832b711d72535e30599" title="Connects to a remote address.">urosConnConnect</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <span class="keyword">const</span> <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *remaddrp) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gae76e4f0f2c41700792149141259afa53" title="Connects to a remote address.">uros_lld_conn_connect</a>(cp, remaddrp);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> * @brief   Receives some data.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> * @details The connection object waits until some data is received from the</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> *          remote address. The pointer to the received data is returned,</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> *          with a length up to the requested one.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> * @see     uros_lld_conn_recv()</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX @p connect(), as the buffer</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> *          is not provided by the user, but by the middleware.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * @post    Either data is received, or an @p UROS_ERR_EOF is returned when</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> *          there is no more pending data (connection closed by remote).</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * @param[out] bufpp</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> *          Indirect pointer to the received data buffer.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> * @param[in,out] buflenp</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> *          Pointer to the buffer length in bytes, with the following meaning:</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> *          - At call, it indicates the maximum length of the received data.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> *          - At return, it is the actual length of the received data.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gaf57e00f8dfcad939c94754753df0952f">  320</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#gaf57e00f8dfcad939c94754753df0952f" title="Receives some data.">urosConnRecv</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                         <span class="keywordtype">void</span> **bufpp, <span class="keywordtype">size_t</span> *buflenp) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga03cba840df63ce6dd6f6c2e4b5dde8e9" title="Receives some data.">uros_lld_conn_recv</a>(cp, bufpp, buflenp);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> * @brief   Receives some data from a remote address.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * @details The connection object waits until some data is received from the</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> *          remote address. The pointer to the received data is returned,</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> *          with a length up to the requested one.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * @see     uros_lld_conn_recvfrom()</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> * @note    Not available for TCP connections.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX @p connect(), as the buffer</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> *          is not provided by the user, but by the middleware.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"> * @param[out] bufpp</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> *          Indirect pointer to the received data buffer.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> * @param[in,out] buflenp</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> *          Pointer to the buffer length in bytes, with the following meaning:</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> *          - At call, it indicates the maximum length of the received data.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> *          - At return, it is the actual length of the received data.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> * @param[in] remaddrp</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> *          Pointer to the remote address descriptor.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga40c75bbd327d9c9f497cb5029f7ae033">  349</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#ga40c75bbd327d9c9f497cb5029f7ae033" title="Receives some data from a remote address.">urosConnRecvFrom</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                             <span class="keywordtype">void</span> **bufpp, <span class="keywordtype">size_t</span> *buflenp,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                             <span class="keyword">const</span> <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *remaddrp) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gad4cdd7b14468fcd00d8dab85fe8f7b9f" title="Receives some data from a remote address.">uros_lld_conn_recvfrom</a>(cp, bufpp, buflenp, remaddrp);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * @brief   Sends some data.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> * @details Sends the buffered data to the remote address. The data is copied</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> *          to an internal buffer while streaming.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * @see     uros_lld_conn_send()</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX send(), as all the data</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> *          is granted to be sent with a single call to this function</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> *          (if no connection errors occurred).</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> * @post    All the buffered data ise sent.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * @param[in] bufp</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> *          Pointer to the buffered data to be sent.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * @param[in] buflen</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> *          Length of the buffered data, in bytes.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga403f6b0dd7d07bf22e8f288913f0a909">  377</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#ga403f6b0dd7d07bf22e8f288913f0a909" title="Sends some data.">urosConnSend</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">void</span> *bufp, <span class="keywordtype">size_t</span> buflen) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga576fa7bea8b0a0596bdcc82d7455feaa" title="Sends some data.">uros_lld_conn_send</a>(cp, bufp, buflen);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> * @brief   Sends some data.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"> * @details Sends the buffered data to the remote address. The data is not</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"> *          copied to internal buffers.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment"> * @see     uros_lld_conn_sendconst()</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * @note    If the low-level connectivity library does not support &lt;i&gt;no-copy&lt;/i&gt;</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> *          streaming, this is simply an alias to @p urosConnSend().</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX send(), as all the data</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"> *          is granted to be sent with a single call to this function</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"> *          (if no connection errors occurred).</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"> * @pre     The buffered data is granted not to change while it is still being</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"> *          streamed by the asynchronous low-level library thread.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> * @post    All the buffered data ise sent.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> * @param[in] bufp</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> *          Pointer to the buffered data to be sent.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> * @param[in] buflen</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"> *          Length of the buffered data, in bytes.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gaf846d5a10420e57f9a1f91ae92f13b46">  408</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#gaf846d5a10420e57f9a1f91ae92f13b46" title="Sends some data.">urosConnSendConst</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">void</span> *bufp, <span class="keywordtype">size_t</span> buflen) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga7bd5bbb5969c2962e21d5e6f46803ca2" title="Sends some data.">uros_lld_conn_sendconst</a>(cp, bufp, buflen);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"> * @brief   Sends some data to a remote address.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> * @details Sends the buffered data to the remote address. The data is copied</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> *          to an internal buffer while streaming.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"> * @see     uros_lld_conn_sendto()</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> * @note    Not available for TCP connections.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX send(), as all the data</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> *          is granted to be sent with a single call to this function</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> *          (if no connection errors occurred).</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"> * @post    All the buffered data ise sent.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> * @param[in] bufp</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"> *          Pointer to the buffered data to be sent.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"> * @param[in] buflen</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"> *          Length of the buffered data, in bytes.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"> * @param[in] remaddrp</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> *          Pointer to the remote address descriptor.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gafbb7eb6de4979ad43ec0689f31a8f35c">  438</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#gafbb7eb6de4979ad43ec0689f31a8f35c" title="Sends some data to a remote address.">urosConnSendTo</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                           <span class="keyword">const</span> <span class="keywordtype">void</span> *bufp, <span class="keywordtype">size_t</span> buflen,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                           <span class="keyword">const</span> <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *remaddrp) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga86ca916c89639a7bb0971ecd41ee67c6" title="Sends some data to a remote address.">uros_lld_conn_sendto</a>(cp, bufp, buflen, remaddrp);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> * @brief   Sends some data to a remote address.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> * @details Sends the buffered data to the remote address. The data is not</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> *          copied to internal buffers.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * @see     uros_lld_conn_sendtoconst()</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> * @note    Not available for TCP connections.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> * @note    If the low-level connectivity library does not support &lt;i&gt;no-copy&lt;/i&gt;</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> *          streaming, this is simply an alias to @p urosConnSend().</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> * @warning Not conceptually equivalent to POSIX send(), as all the data</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> *          is granted to be sent with a single call to this function</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> *          (if no connection errors occurred).</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * @pre     The buffered data is granted not to change while it is still being</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> *          streamed by the asynchronous low-level library thread.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * @post    All the buffered data ise sent.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> *          Pointer to a communicating connection object.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * @param[in] bufp</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> *          Pointer to the buffered data to be sent.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> * @param[in] buflen</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> *          Length of the buffered data, in bytes.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment"> * @param[in] remaddrp</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"> *          Pointer to the remote address descriptor.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga3652e8346d108357eefccff1261c2399">  473</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a>  <a class="code" href="group__conn__funcs.html#ga3652e8346d108357eefccff1261c2399" title="Sends some data to a remote address.">urosConnSendToConst</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span> *bufp, <span class="keywordtype">size_t</span> buflen,</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                <span class="keyword">const</span> <a class="code" href="struct_uros_addr.html" title="Full address record (IP + port).">UrosAddr</a> *remaddrp) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gac186f138d432bc03a69524dd639447ae" title="Sends some data to a remote address.">uros_lld_conn_sendtoconst</a>(cp, bufp, buflen, remaddrp);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> * @brief   Terminates soem ends of a full-duplex channel.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> * @details The reception or the transission channels are closed.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> * @see     uros_lld_conn_shutdown</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p shutdown().</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> * @warning The connection is not actually closed after a call to this</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> *          function, even with both @p rx and @p tx @p true.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> * @post    All the buffered data ise sent.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> *          Pointer to a communicating @p UrosConn object.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> * @param[in] rx</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> *          Close the receiver channel.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"> * @param[in] tx</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"> *          Close the reansmitter channel.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga99fdbf522f13af0121ee7e83cefb4e2a">  500</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga99fdbf522f13af0121ee7e83cefb4e2a" title="Terminates soem ends of a full-duplex channel.">urosConnShutdown</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            <a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> rx, <a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> tx) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga13dbe34a5e3e705b916f19daa350e9ac" title="Terminates soem ends of a full-duplex channel.">uros_lld_conn_shutdown</a>(cp, rx, tx);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * @brief   Closes a connection.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> * @details Terminates all connection channels and releases any internal</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> *          buffers.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> * @see     uros_lld_conn_close()</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"> * @note    Conceptually equivalent to POSIX @p close().</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * @pre     The connection must be open and working.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> * @post    The connection is closed.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * @post    Any internal buffers are freed.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> *          Pointer to a communicating @p UrosConn object.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga2e43894e0610daef8ae04450d054a9f1">  522</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga2e43894e0610daef8ae04450d054a9f1" title="Closes a connection.">urosConnClose</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gaab6a9e021c5325d35ee04fe20092c519" title="Closes a connection.">uros_lld_conn_close</a>(cp);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> * @brief   Gets the &lt;i&gt;Nagle&lt;/i&gt; algorithm state.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"> * @details Checks if the &lt;i&gt;Nagle&lt;/i&gt; algorithm is enabled on the provided</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"> *          connection.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> * @note    Available only for TCP connections.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * @param[out] enablep</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> *          Pointer to the check result.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gad7dc065a44398fde44e3f3544b9d39b1">  540</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gad7dc065a44398fde44e3f3544b9d39b1" title="Gets the Nagle algorithm state.">urosConnGetTcpNoDelay</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> *enablep) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga7231996946389f6c3c142acac63e6ece" title="Gets the Nagle algorithm state.">uros_lld_conn_gettcpnodelay</a>(cp, enablep);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * @brief   Sets the &lt;i&gt;Nagle&lt;/i&gt; algorithm state.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> * @details When the &lt;i&gt;Nagle&lt;/i&gt; algorithm is enabled, small packets are not</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> *          immediately sent, but possibl enqueued, so that the TCP overhead</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> *          is minimized. When it is disabled, even one-byte packets are</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *          immediately sent, to minimize latency despite the TCP overhead.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * @note    Available only for TCP connections.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> * @param[in,out] cp</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * @param[in] enable</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> *          &lt;i&gt;Nagle&lt;/i&gt; algorithm activation switch.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga2197d2f0e6d68ff8a2f6a85c5de16705">  560</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga2197d2f0e6d68ff8a2f6a85c5de16705" title="Sets the Nagle algorithm state.">urosConnSetTcpNoDelay</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, <a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> enable) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gae0c508d71e29b071e457d7b92660139a" title="Sets the Nagle algorithm state.">uros_lld_conn_settcpnodelay</a>(cp, enable);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> * @brief   Gets the receiver timeout.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> * @warning May not be implemented on all platforms.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> * @param[out] msp</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> *          Pointer to the timeout value, in milliseconds.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga1c363d5c3deedd2fae6cf5eb8a3596ce">  576</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga1c363d5c3deedd2fae6cf5eb8a3596ce" title="Gets the receiver timeout.">urosConnGetRecvTimeout</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, uint32_t *msp) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga70526335b0564e7be61b08d8d4d12994" title="Gets the receiver timeout.">uros_lld_conn_getrecvtimeout</a>(cp, msp);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * @brief   Sets the receiver timeout.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> * @warning May not be implemented on all platforms.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"> * @param[out] ms</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"> *          Timeout value, in milliseconds.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00592"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga0c2cbbba15d30154fd654f003d32c155">  592</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga0c2cbbba15d30154fd654f003d32c155" title="Sets the receiver timeout.">urosConnSetRecvTimeout</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, uint32_t ms) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#ga9e7f2eb971c069af53ab965b29c80daa" title="Sets the receiver timeout.">uros_lld_conn_setrecvtimeout</a>(cp, ms);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"> * @brief   Gets the sender timeout.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"> * @warning May not be implemented on all platforms.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"> * @param[out] msp</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> *          Pointer to the timeout value, in milliseconds.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#gad42a8a340a2f611e47275c6f9c59cece">  608</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#gad42a8a340a2f611e47275c6f9c59cece" title="Gets the sender timeout.">urosConnGetSendTimeout</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, uint32_t *msp) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gab4189f152210a6313038039fe9d7ddc6" title="Gets the sender timeout.">uros_lld_conn_getsendtimeout</a>(cp, msp);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * @brief   Sets the sender timeout.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> * @warning May not be implemented on all platforms.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> *          Pointer to a valid @p UrosConn object.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> * @param[out] ms</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> *          Timeout value, in milliseconds.</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga4d717846968981e2e9eb127840e12b77">  624</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__conn__funcs.html#ga4d717846968981e2e9eb127840e12b77" title="Sets the sender timeout.">urosConnSetSendTimeout</a>(<a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp, uint32_t ms) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gafc7f9544e6869c6f39f43ef371946d36" title="Sets the sender timeout.">uros_lld_conn_setsendtimeout</a>(cp, ms);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> * @brief   Gets the last low-level connectivity library error text.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment"> * @param[in] cp</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"> *          Pointer to the connection which generated the error to be analyzed.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment"> *          Textural description of the last low-level connectovity error,</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"> *          null-terminated string.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="code" href="group__conn__funcs.html#ga31e5544da560b0f18740bdd1692c7e0c">  638</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__conn__funcs.html#ga31e5544da560b0f18740bdd1692c7e0c" title="Gets the last low-level connectivity library error text.">urosConnLastErrorText</a>(<span class="keyword">const</span> <a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *cp) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__conn__lld__funcs.html#gabb5d36f0bcac1d5105256ce52eec82a8" title="Gets the last low-level connectivity library error text.">uros_lld_conn_lasterrortext</a>(cp);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">/** @} */</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      &copy; 2012 <a href="http://www.polimi.it">Politecnico di Milano</a>
      @ <a href="http://airlab.elet.polimi.it/">AIRLab</a>
      &#160;
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2
    </li>
  </ul>
</div>
</body>
</html>
