<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Copyright (c) 2012, Politecnico di Milano. All rights reserved.
Andrea Zoppi <texzk@email.it>
Martino Migliavacca <martino.migliavacca@gmail.com>
http://airlab.elet.polimi.it/
http://www.openrobots.com/
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Î¼ROSnode</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png" width="125" height="50"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname"><span id="projectnumber">0.1.0</span></div>
   <div id="projectbrief">alpha</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('uros_rpc_streamer_8c_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">urosRpcStreamer.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="uros_rpc_streamer_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">Copyright (c) 2012, Politecnico di Milano. All rights reserved.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">Andrea Zoppi &lt;texzk@email.it&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">Martino Migliavacca &lt;martino.migliavacca@gmail.com&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">http://airlab.elet.polimi.it/</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">http://www.openrobots.com/</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">2. Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * @file    urosRpcStreamer.c</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * @author  Andrea Zoppi &lt;texzk@email.it&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * @brief   XMLRPC streamer functions.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* HEADER FILES                                                              */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;../include/urosBase.h&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;../include/urosUser.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;../include/urosRpcStreamer.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/* LOCAL TYPES &amp; MACROS                                                      */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#if UROS_RPCSTREAMER_C_USE_ASSERT == UROS_FALSE &amp;&amp; !defined(__DOXYGEN__)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#undef urosAssert</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define urosAssert(expr)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/* GLOBAL FUNCTIONS                                                          */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/*===========================================================================*/</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/** @addtogroup rpc_streamer_funcs */</span><span class="comment"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/** @{ */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> * @brief   Initializes a XMLRPC streamer.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"> * @details All the fields are initialized. A connection and a buffer are</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> *          assigned to this object.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * @pre     The streamer is uninitialized.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> *          Pointer to an uninitialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * @param[in] csp</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> *          Pointer to an allocated @p UrosConn connection object.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> * @param[in] bufp</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"> *          Pointer to the write buffer.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * @param[in] buflen</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> *          Length of the write buffer, in bytes.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga0e74b0a51efd52ce15b1e23256bc2fe5">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__rpc__streamer__funcs.html#ga0e74b0a51efd52ce15b1e23256bc2fe5" title="Initializes a XMLRPC streamer.">urosRpcStreamerObjectInit</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                               <a class="code" href="struct_uros_conn.html" title="Connection information record.">UrosConn</a> *csp,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                               <span class="keywordtype">char</span> *bufp, <span class="keywordtype">size_t</span> buflen) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(csp != NULL);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(bufp != NULL);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(buflen &gt; 0);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">/* Initialize fields.*/</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#add84d06fdd884b75c903bcd1e34971c1" title="Connection status.">csp</a> = csp;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a> = bufp,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a> = buflen;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a> = bufp;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> = buflen;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> = 0;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a> = 0;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> * @brief   Cleans a @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> * @details Resets the state of its internal fields. If needed, the buffer is</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> *          deallocated. Does not unlink from the assigned connection.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"> * @param[in] freeBuffer</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> *          Deallocates buffers.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gaf7f0680051fc5a62e3086bd3b905743e">  110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__rpc__streamer__funcs.html#gaf7f0680051fc5a62e3086bd3b905743e" title="Cleans a UrosRpcStreamer object.">urosRpcStreamerClean</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp, <a class="code" href="group__base__types.html#ga054dde91f71050290ad158e45e684187" title="Boolean data type.">uros_bool_t</a> freeBuffer) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (freeBuffer) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">/* Free the buffer.*/</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="group__base__funcs.html#gabf008f1631293a018e1d7be3ffbb5b51" title="Deallocates a memory block.">urosFree</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a> = NULL;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a> = 0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">/* Initialize fields.*/</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a> = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> = 0;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a> = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> * @brief   Flushes the write buffer.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"> * @details Waits untill all the data of the write buffer is streamed.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> *          Pointer to an initialzied @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gab25dac9fce18b6989a06a8b056a9bde7">  138</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gab25dac9fce18b6989a06a8b056a9bde7" title="Flushes the write buffer.">urosRpcStreamerFlush</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> == sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a>) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a> == sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">/* Send buffered data.*/</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__conn__funcs.html#ga403f6b0dd7d07bf22e8f288913f0a909" title="Sends some data.">urosConnSend</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#add84d06fdd884b75c903bcd1e34971c1" title="Connection status.">csp</a>, sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>, sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a> - sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>, <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            (<span class="stringliteral">&quot;Error %s while streaming data chunk [%.*s]\n&quot;</span>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;             <a class="code" href="group__base__funcs.html#gaffc66585c4773691fb36881ecf8bab2a" title="Text of an error code.">urosErrorText</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>), (<span class="keywordtype">int</span>)sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a>, sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a> = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"> * @brief   Writes some data.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> * @details The data chunk is written to the write buffer. Every time it</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> *          becomes full, buffered data is flushed. The write counter is</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"> *          incremented by the chunk length.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * @param[in] chunkp</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> *          Pointer to the data chunk to be sent. Can be @p NULL only if</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> *          @p chunklen is @p 0.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> * @param[in] chunklen</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> *          Length of the data chunk, in bytes. Can be @p 0.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef">  173</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span> *chunkp, <span class="keywordtype">size_t</span> chunklen) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(!(chunklen &gt; 0) || (chunkp != NULL));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (chunklen == 0) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="group__base__macros.html#gafe1e9e4dd81f26e3eeaca59d8416142e" title="true boolean value.">UROS_TRUE</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (chunklen &lt;= sp-&gt;free) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="comment">/* Chunk completely fits inside the buffer.*/</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      memcpy(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a>, chunkp, chunklen);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> += chunklen;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a> += chunklen;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> -= chunklen;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">/* Chunk only partially fits inside the buffer.*/</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      memcpy(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a020480ef9270d0583009080022dff3ac" title="Current parsing pointer.">curp</a>, chunkp, sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> += sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      chunkp = (<span class="keywordtype">void</span>*)((uint8_t*)chunkp + sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      chunklen -= sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a> = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">/* Flush the buffered data and continue.*/</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="group__rpc__streamer__funcs.html#gab25dac9fce18b6989a06a8b056a9bde7" title="Flushes the write buffer.">urosRpcStreamerFlush</a>(sp);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>, <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                (<span class="stringliteral">&quot;Error %s while flushing chunk [%.*s]\n&quot;</span>,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                 <a class="code" href="group__base__funcs.html#gaffc66585c4773691fb36881ecf8bab2a" title="Text of an error code.">urosErrorText</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>),</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                 (<span class="keywordtype">int</span>)(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a> - sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a17f41b6ccae366032102efb5ef6f3f64" title="Remaining free buffer characters.">free</a>), sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">/* Unreachable code.*/</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(0);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca19c137733c13835c93db1cc3099c7a83" title="Bad parameter.">UROS_ERR_BADPARAM</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> * @brief   Writes a decimal unsigned integer (@p uint32).</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> * @details Decimal format without leading zeroes.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> * @param[in] value</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> *          Value to be written.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300">  222</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp, uint32_t value) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">char</span> strbuf[9], *ptr;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  uint32_t i;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">/* Convert to string.*/</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  ptr = strbuf + 9;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    i = value % 10;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    value /= 10;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    *--ptr = (char)(i + <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  } <span class="keywordflow">while</span> (value != 0);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  i = (uint32_t)(strbuf + 9 - ptr);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">/* Stream the value.*/</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, ptr, (<span class="keywordtype">size_t</span>)i);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> * @brief   Writes a decimal signed integer (@p int32).</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> * @details Decimal format without leading zeroes. Sign symbol only for</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> *          negative values (&lt;tt&gt;&#39;-&#39;&lt;/tt&gt;).</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> * @param[in] value</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> *          Value to be written.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c">  254</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp, int32_t value) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> (value &lt; 0) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    value = -value;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;-&quot;</span>, 1);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>) { <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>; }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, (uint32_t)value);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> * @brief   Writes an IPv4 address.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> * @details Using the standard format, for example:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"> *          @verbatim 192.168.1.1@endverbatim</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"> * @param[in] ip</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> *          IPv4 address to write.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gae33fde3246fb8e3627d6ecebf2ce59d2">  278</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gae33fde3246fb8e3627d6ecebf2ce59d2" title="Writes an IPv4 address.">urosRpcStreamerIp</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp, <a class="code" href="union_uros_ip.html" title="Little-endian IP addres record.">UrosIp</a> ip) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#define _CHKOK  { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(sp, (int32_t)ip.<a class="code" href="union_uros_ip.html#a32f7dae53e141db0673edebdf9f15532" title="Individual fields.">fields</a>.<a class="code" href="union_uros_ip.html#ac66f877f79a7ba73546640eb1cf3b436" title="Address field 1.">field1</a>); _CHKOK</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;.&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(sp, (int32_t)ip.<a class="code" href="union_uros_ip.html#a32f7dae53e141db0673edebdf9f15532" title="Individual fields.">fields</a>.<a class="code" href="union_uros_ip.html#a1f985576c2723620e383e73f5ae381e9" title="Address field 2.">field2</a>); _CHKOK</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;.&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(sp, (int32_t)ip.<a class="code" href="union_uros_ip.html#a32f7dae53e141db0673edebdf9f15532" title="Individual fields.">fields</a>.<a class="code" href="union_uros_ip.html#aedab6df4bde7d75385d6cc067d52475c" title="Address field 3.">field3</a>); _CHKOK</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;.&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(sp, (int32_t)ip.<a class="code" href="union_uros_ip.html#a32f7dae53e141db0673edebdf9f15532" title="Individual fields.">fields</a>.<a class="code" href="union_uros_ip.html#a91e585f1b71820af74478d65b7df2996" title="Address field 4.">field4</a>); _CHKOK</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> * @brief   Writes an HTTP POST line.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> * @details Using HTTP 1.0. Automatically appends CR-LF.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga762e79e3d505169162dc1166c8f1382e">  304</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga762e79e3d505169162dc1166c8f1382e" title="Writes an HTTP POST line.">urosRpcStreamerHttpPost</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  /** FIXME: Is /RPC2 broken in ROS itself? */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;POST /RPC2 HTTP/1.0\r\n&quot;</span>, 21);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> * @brief   Writes an HTTP status line.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> * @details Using HTTP 1.0. Writes also the human-readable description.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> *          Automatically appends CR-LF.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> * @param[in] code</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"> *          Code of the HTTP status. Currently supporting: 200, 201, 202, 204,</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> *          400, 401, 403, 404, 500, 501, 502, 503.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga6ef0017a1dc1e0edae42fd4c6096b3e7">  323</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga6ef0017a1dc1e0edae42fd4c6096b3e7" title="Writes an HTTP status line.">urosRpcStreamerHttpStatus</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp, uint32_t code) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *txtp;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">/* Stream the HTTP response line.*/</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;HTTP/1.0 &quot;</span>, 9); _CHKOK</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, code); _CHKOK</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot; &quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">switch</span> (code) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">case</span> 200: { txtp = <span class="stringliteral">&quot;OK&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">case</span> 201: { txtp = <span class="stringliteral">&quot;Created&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">case</span> 202: { txtp = <span class="stringliteral">&quot;Accepted&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">case</span> 204: { txtp = <span class="stringliteral">&quot;No Content&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">case</span> 400: { txtp = <span class="stringliteral">&quot;Bad Request&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">case</span> 401: { txtp = <span class="stringliteral">&quot;Unauthorized&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">case</span> 403: { txtp = <span class="stringliteral">&quot;Forbidden&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">case</span> 404: { txtp = <span class="stringliteral">&quot;Not Found&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">case</span> 500: { txtp = <span class="stringliteral">&quot;Internal Server Error&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">case</span> 501: { txtp = <span class="stringliteral">&quot;Not Implemented&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">case</span> 502: { txtp = <span class="stringliteral">&quot;Bad Gateway&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">case</span> 503: { txtp = <span class="stringliteral">&quot;Service Unavailable&quot;</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(<a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca19c137733c13835c93db1cc3099c7a83" title="Bad parameter.">UROS_ERR_BADPARAM</a>, <a class="code" href="group__base__macros.html#ga159478ffa2ebe6a29bda7446baa7c44a" title="No operation placeholder.">UROS_NOP</a>,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;              (<span class="stringliteral">&quot;Unhandled HTTP code %lu&quot;</span>, code));</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca19c137733c13835c93db1cc3099c7a83" title="Bad parameter.">UROS_ERR_BADPARAM</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, txtp, strlen(txtp)); _CHKOK;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\r\n&quot;</span>, 2); _CHKOK</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> * @brief   Writes an HTTP header.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * @details Automatically appends CR-LF.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> * @param[in] keyp</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> *          Pointer to the key string.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> * @param[in] keylen</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> *          Length of the key string, in bytes.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * @param[in] valp</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> *          Pointer to the value string.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * @param[in] vallen</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> *          Length of the value string, in bytes.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gaac642b6b9645234585de8faf74e39d0a">  377</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gaac642b6b9645234585de8faf74e39d0a" title="Writes an HTTP header.">urosRpcStreamerHttpHeader</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *keyp, <span class="keywordtype">size_t</span> keylen,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *valp, <span class="keywordtype">size_t</span> vallen) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(keyp != NULL);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(keylen &gt; 0);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(valp != NULL);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, keyp, keylen); _CHKOK</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;: &quot;</span>, 2); _CHKOK</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, valp, vallen); _CHKOK;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\r\n&quot;</span>, 2); _CHKOK</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> * @brief   Writes the end of HTTP headers section.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> * @details Simply writes a CR-LF.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gadf0001b4ef98a31026d1c55c7063980c">  405</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gadf0001b4ef98a31026d1c55c7063980c" title="Writes the end of HTTP headers section.">urosRpcStreamerHttpEnd</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"> * @brief   Writes a hacked &lt;tt&gt;Content-Length&lt;/tt&gt; HTTP header.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"> * @details Writes the &lt;tt&gt;Content-Length&lt;/tt&gt; header, with the value of</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"> *          @p UROS_RPCSTREAMER_FIXLEN.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"> * @see     UROS_RPCSTREAMER_FIXLEN</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"> * @see     urosRpcStreamerXmlEndHack()</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> * @pre     The &lt;tt&gt;Content-Length&lt;/tt&gt; HTTP header is the last header.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gac627b05bfd5f37d15c4607813a2b27c3">  424</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gac627b05bfd5f37d15c4607813a2b27c3" title="Writes a hacked Content-Length HTTP header.">urosRpcStreamerHttpContentLength</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">/* Fixed Content-Length hack.*/</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;Content-Length: &quot;</span>, 16); _CHKOK</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a> = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, <a class="code" href="group__rpc__config.html#gaf8a1ca6c0bd182887afe8457de2e99d1" title="Fixed Content-Length, when the message spans more packets.">UROS_RPCSTREAMER_FIXLEN</a>); _CHKOK</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\r\n&quot;</span>,  2); _CHKOK</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * @brief   Hacks the XMLRPC message length.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * @details This function is called to end a XMLRPC message. It behaves in two</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> *          ways, depending on the status of the write buffer.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> *          - If the write buffer of the @p UrosRpcStream was flushed since the</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"> *            beginning of the message, then a sequence of LF (&lt;tt&gt;&#39;\\n&#39;&lt;/tt&gt;)</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"> *            is appended to match the @p UROS_RPCSTREAMER_FIXLEN body length.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> *          - If the write buffer was not flushed, then it is possible to</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> *            overwrite the &lt;tt&gt;Content-Length&lt;/tt&gt;. It is adjusted so that</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> *            it matches the current body length.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * @see     UROS_RPCSTREAMER_FIXLEN</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> * @see     urosRpcStreamerHttpContentLength()</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> * @pre     No XMLRPC message can exceed @p UROS_RPCSTREAMER_FIXLEN.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga4e7bc60343d5a6eebaf41e85ce7e47cd">  459</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga4e7bc60343d5a6eebaf41e85ce7e47cd" title="Hacks the XMLRPC message length.">urosRpcStreamerXmlEndHack</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordtype">size_t</span> bodylen;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> fixlen = strlen(<a class="code" href="group__base__macros.html#ga2fb23c12f53d80f2f782edee39833140" title="Pre-processes the value of define as a ROM string.">UROS_STRINGIFY2</a>(<a class="code" href="group__rpc__config.html#gaf8a1ca6c0bd182887afe8457de2e99d1" title="Fixed Content-Length, when the message spans more packets.">UROS_RPCSTREAMER_FIXLEN</a>));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> &lt;= <a class="code" href="group__rpc__config.html#gaf8a1ca6c0bd182887afe8457de2e99d1" title="Fixed Content-Length, when the message spans more packets.">UROS_RPCSTREAMER_FIXLEN</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  bodylen = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> - (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a> + fixlen + (2 + 2));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> &lt;= sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a447e49fab8f69b80a990e20361f0f9e6" title="Refill buffer length.">buflen</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">/* The Content-Length field is still inside the buffer, fix it.*/</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">char</span> *ptr = &amp;sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#afc9e03c33214b07a1bf8269b2c045994" title="Pointer to the refill buffer.">bufp</a>[sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a>];</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">size_t</span> numlen, oldlen, temp, added;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">/* Match the length with the initial whitespace.*/</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span> (temp = bodylen, numlen = 1; temp &gt;= 10; ++numlen, temp /= 10) {}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    oldlen = numlen;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      added = fixlen - numlen;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">for</span> (temp = bodylen + added, numlen = 1; temp &gt;= 10; ++numlen, temp /= 10) {}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    } <span class="keywordflow">while</span> (oldlen &lt; numlen);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    bodylen += added;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">/* Write the actual body length, including HTTP header end and &lt;?xml</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">     * beginning.*/</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(numlen &lt;= fixlen);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    ptr += numlen;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    memcpy(ptr, <span class="stringliteral">&quot;\r\n\r\n&lt;?xml         &quot;</span>, 9 + added);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">do</span> { *--ptr = (char)(bodylen % 10 + <span class="charliteral">&#39;0&#39;</span>); } <span class="keywordflow">while</span> (bodylen /= 10);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">/* Write trailing spaces up to the fixed length.*/</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordtype">size_t</span> remaining = sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#af62fe6d79858673c694ef60e60e1f0a6" title="Total streamed characters counter.">total</a> - (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#a08d107dfefe85e1799cfc9571ae1c5df" title="Position mark, for user purposes.">mark</a> + 4 +   <span class="comment">/* 4 are for &quot;\r\n\r\n&quot; */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                       strlen(<a class="code" href="group__base__macros.html#ga2fb23c12f53d80f2f782edee39833140" title="Pre-processes the value of define as a ROM string.">UROS_STRINGIFY2</a>(<a class="code" href="group__rpc__config.html#gaf8a1ca6c0bd182887afe8457de2e99d1" title="Fixed Content-Length, when the message spans more packets.">UROS_RPCSTREAMER_FIXLEN</a>)));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">while</span> (remaining &lt; 16) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&quot;</span>, 16);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      remaining -= 16;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>) { <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>; }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&quot;</span>,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                         remaining);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> != <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>) { <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a>; }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * @brief   Writes an XML attribute.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> *          Pointer to an initialized @p UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> * @param[in] namep</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> *          Pointer to the name string.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"> * @param[in] namelen</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"> *          Name string length, in bytes.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * @param[in] valp</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> *          Pointer to the value string.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * @param[in] vallen</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> *          Value string length, in bytes.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> * @param[in] quotec</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> *          XML quote character. Can be either &lt;tt&gt;&#39;&quot;&#39;&lt;/tt&gt; or &lt;tt&gt;&#39;\&#39;&#39;&lt;/tt&gt;.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gac0a63e6536968193ca252d2653dcc674">  522</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gac0a63e6536968193ca252d2653dcc674" title="Writes an XML attribute.">urosRpcStreamerXmlAttrWVal</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *namep, <span class="keywordtype">size_t</span> namelen,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *valp, <span class="keywordtype">size_t</span> vallen,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">char</span> quotec) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordtype">char</span> temp[2];</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(namep != NULL);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(namelen &gt; 0);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(!(valp != NULL) || vallen &gt; 0);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(quotec == <span class="charliteral">&#39;&quot;&#39;</span> || quotec == <span class="charliteral">&#39;\&#39;&#39;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, namep, namelen); _CHKOK</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  temp[0] = <span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  temp[1] = quotec;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, temp, 2); _CHKOK</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (valp != NULL) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, valp, vallen); _CHKOK</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  temp[0] = quotec;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, temp, 1); _CHKOK</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * @brief   Writes the beginning of a XML tag.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> * @details The beginning has format:</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *          @verbatim &lt;TAG @endverbatim.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * @param[in] tagp</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> *          Pointer to the tag name string.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * @param[in] taglen</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> *          Length of the tag name.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gac44ef78b9f7c90f2c3883a1a6a94b627">  564</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gac44ef78b9f7c90f2c3883a1a6a94b627" title="Writes the beginning of a XML tag.">urosRpcStreamerXmlTagBegin</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *tagp, <span class="keywordtype">size_t</span> taglen) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(tagp != NULL);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(taglen &gt; 0);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&lt;&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, tagp, taglen); _CHKOK</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * @brief   Writes the end of a XML tag.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * @details The end has format:</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> *          @verbatim &gt; @endverbatim.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga47d9594ac6cb3630e810d25a75ec2fa2">  589</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga47d9594ac6cb3630e810d25a75ec2fa2" title="Writes the end of a XML tag.">urosRpcStreamerXmlTagEnd</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&gt;&quot;</span>, 1);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment"> * @brief   Writes the end of an empty XML tag.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"> * @details The end has format:</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"> *          @verbatim /&gt; @endverbatim.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga0768c4bd0f7c37efb68f91155c6244d9">  606</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga0768c4bd0f7c37efb68f91155c6244d9" title="Writes the end of an empty XML tag.">urosRpcStreamerXmlTagSlashEnd</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;/&gt;&quot;</span>, 2);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * @brief   Writes a simple opening tag for a non-empty XML element.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> * @details The tag has format:</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> *          @verbatim &lt;TAG&gt; @endverbatim.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> * @param[in] tagp</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> *          Pointer to the tag name string.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> * @param[in] taglen</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> *          Length of the tag name.</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb">  627</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *tagp, <span class="keywordtype">size_t</span> taglen) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(tagp != NULL);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(taglen &gt; 0);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&lt;&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, tagp, taglen); _CHKOK</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&gt;&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment"> * @brief   Writes the closing tag for a non-empty XML element.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"> * @details The tag has format:</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> *          @verbatim &lt;/TAG&gt; @endverbatim.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"> * @param[in] tagp</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> *          Pointer to the tag name string.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> * @param[in] taglen</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> *          Length of the tag name.</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183">  657</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *tagp, <span class="keywordtype">size_t</span> taglen) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(tagp != NULL);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(taglen &gt; 0);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&lt;/&quot;</span>, 2); _CHKOK</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, tagp, taglen); _CHKOK</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&gt;&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> * @brief   Writes the XML header special tag.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> * @details The header has format:</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> *          @verbatim &lt;?xml version=&quot;1.0&quot;?&gt;@endverbatim</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00683"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga5a39e04d00c56de8ba3e6c99421bcd0e">  683</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga5a39e04d00c56de8ba3e6c99421bcd0e" title="Writes the XML header special tag.">urosRpcStreamerXmlHeader</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot;</span>, 21);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"> * @brief   Writes the value of an &lt;tt&gt;&lt;i4&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding an &lt;tt&gt;&lt;i4&gt;&lt;/tt&gt; value.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga0495b21bf4441b150796580c3e81deed">  700</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga0495b21bf4441b150796580c3e81deed" title="Writes the value of an &lt;i4&gt; XMLRPC parameter.">urosRpcStreamerParamValueInt</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a94c4504d5fa1f8b7932bbacfb6d44171" title="Signed 32-bits value.">UROS_RPCP_INT</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga84ce0f6f40dd3abd2b8c99675291049c" title="Writes a decimal signed integer (int32).">urosRpcStreamerInt32</a>(sp, paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#aa85a9cb9b1b21832699aab69381f6dff" title="XMLRPC int/i4.">int32</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> * @brief   Writes the value of a &lt;tt&gt;&lt;boolean&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding an &lt;tt&gt;&lt;boolean&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00720"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga6acd5369869b2947b7c9a27fc5ce27db">  720</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga6acd5369869b2947b7c9a27fc5ce27db" title="Writes the value of a &lt;boolean&gt; XMLRPC parameter.">urosRpcStreamerParamValueBoolean</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a2ca0262e5d29489e7cd2334283513228" title="Boolean value (either 1 or 0).">UROS_RPCP_BOOLEAN</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, (uint32_t)paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#aafc66bbb708a049194f513b9c880e87e" title="XMLRPC boolean.">boolean</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"> * @brief   Writes the value of a &lt;tt&gt;&lt;string&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding an &lt;tt&gt;&lt;string&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga1620403eab7a820fefc149ed162650bf">  740</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga1620403eab7a820fefc149ed162650bf" title="Writes the value of a &lt;string&gt; XMLRPC parameter.">urosRpcStreamerParamValueString</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keyword">const</span> <a class="code" href="struct_uros_string.html" title="String object.">UrosString</a> *strp;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738afa220bdbaddf74f30e0f7fb214b5597f" title="String value.">UROS_RPCP_STRING</a>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  strp = &amp;paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#af4580a24278cac3b4b934ad09661fa52" title="XMLRPC string.">string</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, strp-&gt;<a class="code" href="struct_uros_string.html#af400c70d8d855a509e3c8bf7312f65de" title="String data.">datap</a>, strp-&gt;<a class="code" href="struct_uros_string.html#ab401588ed4bd01f81686bc7ce5edde91" title="String length.">length</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"> * @brief   Writes the value of a &lt;tt&gt;&lt;double&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding a &lt;tt&gt;&lt;double&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga03b8a774ddc9281a131bd5e9c3db761f">  763</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga03b8a774ddc9281a131bd5e9c3db761f" title="Writes the value of a &lt;double&gt; XMLRPC parameter.">urosRpcStreamerParamValueDouble</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">double</span> value;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  uint32_t integral;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a491e9ebec13e97ce29a2ed5c9e117f71" title="Double-precision floating point value.">UROS_RPCP_DOUBLE</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">/* FIXME: This works well only for int-ranged numbers.*/</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  value = paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#acaf9da763866cfe2c82772bbf222b572" title="XMLRPC double.">real</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (value &lt; 0) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    value = -value;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;-&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  integral = (uint32_t)value;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, integral); _CHKOK</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">if</span> ((<span class="keywordtype">double</span>)integral != value) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga9db04b4c11ce2a33673b0dfc6d3145ef" title="Writes some data.">urosRpcStreamerWrite</a>(sp, <span class="stringliteral">&quot;.&quot;</span>, 1); _CHKOK</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    integral = (uint32_t)((value - (<span class="keywordtype">double</span>)integral) * 10000000000.0);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga360cb17ce01bd18af2a6eb919ad40300" title="Writes a decimal unsigned integer (uint32).">urosRpcStreamerUint32</a>(sp, integral); _CHKOK</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * @brief   Writes the value of a &lt;tt&gt;&lt;base64&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> * @warning Not implemented.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding an &lt;tt&gt;&lt;base64&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gaee1886e8f118e7a016fac4f2c95bb3e3">  803</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gaee1886e8f118e7a016fac4f2c95bb3e3" title="Writes the value of a &lt;base64&gt; XMLRPC parameter.">urosRpcStreamerParamValueBase64</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  (void)paramp;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738afa97db74e58aaec7a978632f26253e17" title="Base64 data.">UROS_RPCP_BASE64</a>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">/* TODO */</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> * @brief   Writes the value of a &lt;tt&gt;&lt;struct&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * @warning Not implemented.</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding a &lt;tt&gt;&lt;struct&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga6edfe806ee3b0e458a2c7a0120d250ee">  830</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga6edfe806ee3b0e458a2c7a0120d250ee" title="Writes the value of a &lt;struct&gt; XMLRPC parameter.">urosRpcStreamerParamValueStruct</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  (void)paramp;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738aee1cc28661c66e4e0cb0e248e04b7a5d" title="Associative map.">UROS_RPCP_STRUCT</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">/* TODO */</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"> * @brief   Writes the value of an &lt;tt&gt;&lt;array&gt;&lt;/tt&gt; XMLRPC parameter.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter holding an &lt;tt&gt;&lt;array&gt;&lt;/tt&gt;</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"> *          value.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#gafe71bc375dec3fd51f77fa0ee8ded6f8">  856</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#gafe71bc375dec3fd51f77fa0ee8ded6f8" title="Writes the value of an &lt;array&gt; XMLRPC parameter.">urosRpcStreamerParamValueArray</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param_node.html" title="Parameter list node, forward only.">UrosRpcParamNode</a> *nodep;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a> == <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a7a905086a537bc87623c76318a5dc552" title="Generic array.">UROS_RPCP_ARRAY</a>);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#a5526d55090a80b6624b9092726e57526" title="XMLRPC array (list pointer).">listp</a> != NULL);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>((paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#a5526d55090a80b6624b9092726e57526" title="XMLRPC array (list pointer).">listp</a>-&gt;<a class="code" href="struct_uros_rpc_param_list.html#ab8a4befcda486e320c88a25772f41a27" title="Pointer to the first parameter.">headp</a> == NULL) ==</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         (paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#a5526d55090a80b6624b9092726e57526" title="XMLRPC array (list pointer).">listp</a>-&gt;<a class="code" href="struct_uros_rpc_param_list.html#ad855e1529f2e40e5833470bd576607dc" title="Number of list elements.">length</a> == 0));</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;data&quot;</span>, 4); _CHKOK</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">for</span> (nodep = paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#ae3cfef091791bd38978a26ca2133fced" title="Parameter value.">value</a>.<a class="code" href="struct_uros_rpc_param.html#a5526d55090a80b6624b9092726e57526" title="XMLRPC array (list pointer).">listp</a>-&gt;<a class="code" href="struct_uros_rpc_param_list.html#ab8a4befcda486e320c88a25772f41a27" title="Pointer to the first parameter.">headp</a>; nodep != NULL; nodep = nodep-&gt;<a class="code" href="struct_uros_rpc_param_node.html#a2ca8e3006171cac6c3845400223e6bb4" title="Pointer to the next node.">nextp</a>) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga5552cd471105dbeb6ecc7961bda0a4f4" title="Writes the value of a XMLRPC parameter.">urosRpcStreamerParam</a>(sp, &amp;nodep-&gt;<a class="code" href="struct_uros_rpc_param_node.html#a9db0a32dac1f16a7decc0c7061f9e191" title="Parameter value.">param</a>); _CHKOK</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;data&quot;</span>, 4); _CHKOK</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"> * @brief   Writes the value of a XMLRPC parameter.</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment"> * @details The value is enclosed between a @p value XML element.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"> * @param[in,out] sp</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"> *          Pointer to an initialized @Ã¨ UrosRpcStreamer object.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"> * @param[in] paramp</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"> *          Pointer to the XMLRPC parameter.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"> *          Error code.</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno"><a class="code" href="group__rpc__streamer__funcs.html#ga5552cd471105dbeb6ecc7961bda0a4f4">  889</a></span>&#160;<a class="code" href="group__base__types.html#gaac94ee32652dcb53686fdf6881996b6c" title="Error codes enumerator.">uros_err_t</a> <a class="code" href="group__rpc__streamer__funcs.html#ga5552cd471105dbeb6ecc7961bda0a4f4" title="Writes the value of a XMLRPC parameter.">urosRpcStreamerParam</a>(<a class="code" href="struct_uros_rpc_streamer.html" title="XMLRPC streamer object.">UrosRpcStreamer</a> *sp,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                <span class="keyword">const</span> <a class="code" href="struct_uros_rpc_param.html" title="XMLRPC parameter value.">UrosRpcParam</a> *paramp) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(sp != NULL);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <a class="code" href="group__base__macros.html#ga54eab9e05e9149628d6950a87eb8b6f8" title="Evaluates an assertion.">urosAssert</a>(paramp != NULL);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="preprocessor">#define _CHKOK   { if (sp-&gt;err != UROS_OK) { return sp-&gt;err; } }</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;value&quot;</span>, 5); _CHKOK</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">switch</span> (paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a>) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a94c4504d5fa1f8b7932bbacfb6d44171" title="Signed 32-bits value.">UROS_RPCP_INT</a>: {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;int&quot;</span>, 3); _CHKOK</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga0495b21bf4441b150796580c3e81deed" title="Writes the value of an &lt;i4&gt; XMLRPC parameter.">urosRpcStreamerParamValueInt</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;int&quot;</span>, 3); _CHKOK</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a2ca0262e5d29489e7cd2334283513228" title="Boolean value (either 1 or 0).">UROS_RPCP_BOOLEAN</a>: {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;boolean&quot;</span>, 7); _CHKOK</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga6acd5369869b2947b7c9a27fc5ce27db" title="Writes the value of a &lt;boolean&gt; XMLRPC parameter.">urosRpcStreamerParamValueBoolean</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;boolean&quot;</span>, 7); _CHKOK</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738afa220bdbaddf74f30e0f7fb214b5597f" title="String value.">UROS_RPCP_STRING</a>: {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">#if UROS_RPCSTREAMER_USE_STRING_TAG != UROS_FALSE</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="preprocessor"></span>    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;string&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga1620403eab7a820fefc149ed162650bf" title="Writes the value of a &lt;string&gt; XMLRPC parameter.">urosRpcStreamerParamValueString</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;string&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="preprocessor"></span>    <a class="code" href="group__rpc__streamer__funcs.html#ga1620403eab7a820fefc149ed162650bf" title="Writes the value of a &lt;string&gt; XMLRPC parameter.">urosRpcStreamerParamValueString</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a491e9ebec13e97ce29a2ed5c9e117f71" title="Double-precision floating point value.">UROS_RPCP_DOUBLE</a>: {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;double&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga03b8a774ddc9281a131bd5e9c3db761f" title="Writes the value of a &lt;double&gt; XMLRPC parameter.">urosRpcStreamerParamValueDouble</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;double&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738afa97db74e58aaec7a978632f26253e17" title="Base64 data.">UROS_RPCP_BASE64</a>: {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;base64&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gaee1886e8f118e7a016fac4f2c95bb3e3" title="Writes the value of a &lt;base64&gt; XMLRPC parameter.">urosRpcStreamerParamValueBase64</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;base64&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738aee1cc28661c66e4e0cb0e248e04b7a5d" title="Associative map.">UROS_RPCP_STRUCT</a>: {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;struct&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga6edfe806ee3b0e458a2c7a0120d250ee" title="Writes the value of a &lt;struct&gt; XMLRPC parameter.">urosRpcStreamerParamValueStruct</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;struct&quot;</span>, 6); _CHKOK</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="group__rpc__types.html#ggaf03aaf8bc712e088b5b03d1d26473738a7a905086a537bc87623c76318a5dc552" title="Generic array.">UROS_RPCP_ARRAY</a>: {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gab1cd5404dd19988fe6acd6501086e2bb" title="Writes a simple opening tag for a non-empty XML element.">urosRpcStreamerXmlTagOpen</a>(sp, <span class="stringliteral">&quot;array&quot;</span>, 5); _CHKOK</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#gafe71bc375dec3fd51f77fa0ee8ded6f8" title="Writes the value of an &lt;array&gt; XMLRPC parameter.">urosRpcStreamerParamValueArray</a>(sp, paramp); _CHKOK</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;array&quot;</span>, 5); _CHKOK</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <a class="code" href="group__base__macros.html#gae2617103c16f3e9d923d712289011471" title="Checks if an error occurred, and generates a message.">urosError</a>(<a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca19c137733c13835c93db1cc3099c7a83" title="Bad parameter.">UROS_ERR_BADPARAM</a>, <a class="code" href="group__base__macros.html#ga159478ffa2ebe6a29bda7446baa7c44a" title="No operation placeholder.">UROS_NOP</a>,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;              (<span class="stringliteral">&quot;Unknown param class id %d\n&quot;</span>, (<span class="keywordtype">int</span>)paramp-&gt;<a class="code" href="struct_uros_rpc_param.html#a72733d090996ae055b31c01048668c9a" title="Parameter class.">class</a>));</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca19c137733c13835c93db1cc3099c7a83" title="Bad parameter.">UROS_ERR_BADPARAM</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="group__rpc__streamer__funcs.html#ga60979c6527f404735ee95565c60ff183" title="Writes the closing tag for a non-empty XML element.">urosRpcStreamerXmlTagClose</a>(sp, <span class="stringliteral">&quot;value&quot;</span>, 5); _CHKOK</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">return</span> sp-&gt;<a class="code" href="struct_uros_rpc_streamer.html#ad0829d8aaa74c62ef1fe3fe7f005aa02" title="Last error message.">err</a> = <a class="code" href="group__base__types.html#ggaac94ee32652dcb53686fdf6881996b6ca2aa45ad0fcc039cef995b754c97f63ce" title="No errors.">UROS_OK</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">#undef _CHKOK</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor"></span>}</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">/** @} */</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      &copy; 2012 <a href="http://www.polimi.it">Politecnico di Milano</a>
      @ <a href="http://airlab.elet.polimi.it/">AIRLab</a>
      &#160;
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2
    </li>
  </ul>
</div>
</body>
</html>
